!function e(t,s,i){function n(a,r){if(!s[a]){if(!t[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=s[a]={exports:{}};t[a][0].call(d.exports,function(e){var s=t[a][1][e];return n(s?s:e)},d,d.exports,e,t,s,i)}return s[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,s){var i=e("./config"),n=e("./Plugin"),o=e("./game/Main");n.enable(i.plugins),PQ.config.useDeltaAnimation=i.useDeltaAnimation,PQ.config.useSortChildrenByDepth=i.useSortChildrenByDepth,t.exports=new o},{"./Plugin":2,"./config":3,"./game/Main":5}],2:[function(e,t,s){function i(){this.enable=function(t){"string"==typeof t&&(t=[t]);for(var s=t.length,i=0;s>i;i++){var o=n+t[i]+".js";e(o)}PQ.plugin.enable(t)}}var n="./plugins/";t.exports=new i},{}],3:[function(e,t,s){t.exports={id:"pq.defaultbundle.id",version:"0.0.0",debug:!1,sayHello:!0,useDeltaAnimation:!0,useSortChildrenByDepth:!0,game:{width:800,height:600,resolution:1,canvas:null,backgroundColor:0,transparentBackground:!1,useAntialias:!1,useWebGL:!0,preserveDrawingBuffer:!1,usePersitantData:!1,scaleType:PQ.GAME_SCALE_TYPE.NONE,minFrameLimit:30,stopAtVisibiltyChange:!0,clearBeforeRender:!0},audio:{useWebAudio:!0,allowedExtensions:["mp3","ogg","wav"]},input:{enableMouse:!1,enableKeyboard:!1,enableAccelerometer:!1,mouseCheckFrecuency:30,disableContextMenu:!0,preventDefault:!0},plugins:[]}},{}],4:[function(e,t,s){t.exports=PQ.Class.extend({_init:function(e,t){t=t||{},this.game=e,this.minTime=t.minTime||1e4,this.width=t.width||300,this.height=t.height||40,this.callback=null,this.bar=new PQ.Graphics,this.loader=new PQ.AssetLoader,this.logoTween=null,this.barTween=null,this.ready=!1,this.assetsNum=0,this.timeForAsset=0,this.progressForAsset=0,this.count=0},add:function(){return this.loader.add.apply(this.loader,arguments),this},load:function(e){this.callback=e,this._showLogo(),this.loader.on("load",this._assetLoaded.bind(this)),this.loader.load()},_showLogo:function(){var e=new PQ.Sprite("perenquenjs-logo").setAnchor(.5,1).setPosition(this.game.scene.width/2,this.game.scene.height/2).addTo(this.game.scene);this.logoTween=e.tween().to({y:e.y+5}).setEasing(PQ.Easing.outSine()).setLoop().setPingPong().setTime(1500).start(),this.assetsNum=Object.keys(this.loader.resources).length,this.timeForAsset=this.minTime/(this.assetsNum||1),this.progressForAsset=100/(this.assetsNum||1),this.bar.beginFill(11711154,1).drawRect(0,0,this.width,this.height).endFill().lineStyle(3,16777215,1).drawRect(0,0,this.width,this.height).setPosition(this.game.scene.width/2-this.width/2,this.game.scene.height/2+50).addTo(this.game.scene),this.bar._totalProgress=1,this.barTween=this.bar.tween().to({_totalProgress:this.progressForAsset}).setTime(this.timeForAsset).setExpire().start();var t=this;this.bar.update=function(e,s){if(!t.ready){var i=t.width*this._totalProgress/100;t.count===t.assetsNum&&t.barTween.isEnded&&(t.ready=!0,t._complete()),this.beginFill(16777215,1).drawRect(0,0,i,t.height).endFill()}}},_assetLoaded:function(e,t){this.count++,this.count<this.assetsNum&&(this.barTween=this.barTween.isEnded?this.bar.tween().to({_totalProgress:this.progressForAsset*(this.count+1)}).setTime(this.timeForAsset).setExpire().start():this.barTween.chain().to({_totalProgress:this.progressForAsset*(this.count+1)}).setTime(this.timeForAsset).setExpire())},_complete:function(){this.callback&&this.callback(),this.logoTween.remove()}})},{}],5:[function(e,t,s){var i=e("../config"),n=e("./LoadBar"),o=e("./scenes/MainScene");t.exports=PQ.Class.extend({_init:function(){game=this.game=new PQ.Game(i),this.game.start(),this._loadLogo()},_loadLogo:function(){this.game.assetLoader.add([{url:"./assets/images/perenquenjs-logo.png",name:"perenquenjs-logo"}]).load(this._loadAssets.bind(this))},_loadAssets:function(){var e=new n(this.game,{minTime:5e3,width:300,height:40});e.add([]),e.load(this.onAssetsLoaded.bind(this))},onAssetsLoaded:function(){console.log("All assets loaded!");var e=new o(this.game);this.game.sceneManager.addScene(e),this.game.sceneManager.setCurrentScene(e)}})},{"../config":3,"./LoadBar":4,"./scenes/MainScene":6}],6:[function(e,t,s){t.exports=PQ.Scene.extend({_init:function(e){this._super(e),this.id="mainScene",this.showWelcome()},showWelcome:function(){new PQ.Text("Your Main Scene...",{font:"30px Arial",fill:16777215}).setPosition(this.width/2,this.height/2).addTo(this)}})},{}]},{},[1]);